\documentclass{scrartcl}
\usepackage[margin=1in]{geometry}

\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

\usepackage{biblatex}
\addbibresource{references.bib}

% And hypertext links everywhere
\usepackage{hyperref}
\usepackage{cleveref}

% Some math caracters (\{ll,rr}bracket in particular)
\usepackage{stmaryrd}
% Who could live without those ?
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}

% To get a proper text encoding with xelatex
\usepackage{mathspec}
\usepackage{unicode-math}
\setmainfont{TeX Gyre Termes}
\newfontfamily\listingfont{SourceCodePro-Regular.otf}[Path = ./fonts/]
\newfontfamily\listingitfont{SourceCodePro-It.otf}[Path = ./fonts/]
\newfontfamily\listingboldfont{SourceCodePro-Semibold.otf}[Path = ./fonts/]
\setmathfont{texgyrebonum-math.otf}
\setmathfont[Path= ./fonts/, range=\mathit]{SourceSansPro-Regular.otf}

% For pandoc's pleasure
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% Render inference rules
\usepackage{mathpartir}
% The labels of those rules
\newcommand{\irlabel}[1]{\text{\emph{(#1)}}}

\usepackage{xfrac}

\usepackage{float}

% Fore code blocks
\usepackage{listings}
\definecolor{lstbg}{rgb}{0, 0, 0.3}
\lstdefinelanguage{NLight}{%
  morekeywords={let,in,if,then,else,or,Cons,Nil},
  keywordstyle={\listingboldfont},
  otherkeywords={:,;,=,[,],\{,\},...}, % operators go here
  morekeywords={[2]Int,true,false,Bool,String,t, Empty, Any},   % types go here
  keywordstyle={[2]\listingitfont},
  literate={% replace strings with symbols
    {->}{{$\to$}}{1}
    {λ}{{$\lambda$}}{1}
    {τ}{{\ensuremath{\tau}}}{1}
    {ρ}{{\ensuremath{\rho}}}{1}
    {tin}{{$\in$}}{1}
    {\&}{{$\wedge$}}{1}
    {AND}{{$\wedge$}}{1}
    {OR}{{$\vee$}}{1}
    {LB}{{\{}}{1}
    {RB}{{\}}}{1}
    {...}{{$\cdots$}}{1}
    {DOLLAR}{{\$}}{1}
    {(|}{{\ensuremath{\llbracket}}}{1} % chktex 9
    {|)}{{\ensuremath{\rrbracket}}}{1} % chktex 9
    {(||}{{\ensuremath{\llparenthesis}}}{1} % chktex 9
    {||)}{{\ensuremath{\rrparenthesis}}}{1} % chktex 9
  },
  keepspaces,
  mathescape % optional
}[keywords,comments,strings]
\lstset{%
  escapeinside={//*}{*//},
  breaklines=true,
  mathescape=true,
  language=NLight,
  basicstyle=\color{lstbg}\listingfont
}

\lstMakeShortInline{°}

% Some useful macros
\catcode`σ=13
\catcode`τ=13
\catcode`λ=13
\catcode`ρ=13
\catcode`Γ=13
\newcommand{λ}{\ensuremath{\lambda}}
\newcommand{σ}{\ensuremath{\sigma}}
\newcommand{τ}{\ensuremath{\tau}}
\newcommand{Γ}{\ensuremath{\Gamma}}
\newcommand{\lbl}[1]{\text{(\emph{#1})}}
\newcommand{\seq}[2]{\overline{#1}^{#2}}
% Subtyping
\newcommand{\subtype}{\leq}
\newcommand{\notsubtype}{\not\leq}
\newcommand{\subtypeG}{\tilde\subtype}
% Builtin types
\DeclareMathOperator\Empty{Empty}
\DeclareMathOperator\Any{Any}
\DeclareMathOperator\grad{?}
\DeclareMathOperator\cons{Cons}
\newcommand{\tcheck}{\vdash^{\Downarrow}}
\newcommand{\tinfer}{\vdash^{\Uparrow}}
\newcommand{\tIC}{\vdash^{\delta}}

\title{Internship report}
\subtitle{Typing the Nix language}
\author{Théophane \textsc{Hufschmitt}\\
supervised by Giuseppe \textsc{Castagna} (CNRS and Université Paris Diderot)\\
and Mathieu \textsc{Boespflug} (Tweag)}
\date{August 21 2017}

\begin{document}
\maketitle
% \mathversion{default}

% \tableofcontents

% \pagebreak

\input{out/generated/main.tex}
\printbibliography{}
\end{document}
